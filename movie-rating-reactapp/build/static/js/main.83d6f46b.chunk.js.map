{"version":3,"sources":["redux/auth/authTypes.js","redux/auth/authReducer.js","redux/favoritemovies/favoriteTypes.js","redux/favoritemovies/favoriteReducer.js","redux/appReducer.js","redux/store.js","redux/auth/authActions.js","components/loginComp.js","components/Signup.js","redux/favoritemovies/favoriteActions.js","components/LogCheck.js","components/Checkbox.js","components/HeaderComp.js","components/CommentComp.js","components/MoviesComp.js","components/WatchListComp.js","components/AccountSettings.js","components/Aboutus.js","components/RetrieveAccount.js","App.js","reportWebVitals.js","index.js"],"names":["USER_LOGIN_SUCCESS","USER_LOGIN_FAILED","USER_LOGOUT","intialState","err","user","isLogged","authReducer","state","action","type","payload","document","getElementById","innerHTML","loggedInUser","localStorage","getItem","user_credentials","JSON","parse","k","userName","username","userFirstName","firstname","userLastName","lastname","jsonuser","stringify","setItem","FAVORITE_MOVIES_FETCH_SUCCESS","FAVORITE_MOVIES_FETCH_FAIL","POST_FAVORITE_MOVIE","POST_FAVORITE_MOVIE_SUCCESS","POST_FAVORITE_MOVIE_FAIL","DELETE_FAVORITE_MOVIE","DELETE_FAVORITE_MOVIE_SUCCESS","DELETE_FAVORITE_MOVIE_FAIL","FavMovies","isloading","favReducer","favoritemovies","appReducer","combineReducers","auth","fav","store","createStore","applyMiddleware","Thunk","user_login_success","console","log","connect","userDetails","dispatch","Login","user_cred","a","axios","post","then","res","data","catch","mes","message","props","history","useHistory","useState","password","userCred","setUserCred","useEffect","push","prev","handleChange","event","prevUserCred","target","name","value","id","className","class","onChange","onClick","success","to","style","marginTop","color","cursor","textDecoration","removeItem","emailid","confirmpassword","inUser","setInUser","allUsers","setAllUsers","allemails","setEmails","sigResult","setSigResult","get","e","i","length","usernameCheck","textAlign","validator","isEmail","indexOf","resp","fetch_fm_fai","fetch_fm","token","headers","favMovies","post_fm","movieId","Authorization","delete_fm","delete","userLogin","fetchWatchList","CheckboxContainer","styled","div","Icon","svg","HiddenCheckbox","input","attrs","StyledCheckbox","checked","Checkbox","viewBox","points","LogOut","clear","window","location","reload","useLocation","pathname","endpoint","setEndpoint","popfliters","opacity","height","transform","rating","min","max","step","handleSort","handlegenre","fliters","marginLeft","drama","comedy","romance","adventure","horror","comics","thriller","fantasy","CommentComp","rate","setRate","hover","setHover","lastrated","Array","map","star","ratingValue","ratingCheck","MovieID","size","innerWidth","onMouseEnter","onMouseLeave","postRating","watchList","deleteFav","postFav","movies","setMovies","allrating","setAllrating","m","body","overflowY","movie","comments","userid","author","put","_id","resp2","resp3","avgRating","len","j","toFixed","isCommented","checkFav","sortmovies","rat","fli","l","l1","genre","each","src","imageurl","alt","eachgenre","cast","eachcast","Changeaccountdetails","newAccountdetails","us","setUs","onchangefun","Aboutus","href","RetrieveAccount","mailid","setMailid","resu","setResu","pin","setPin","setUsername","email","otp","all","setAll","da","numInputs","inputStyle","focusStyle","separator","containerStyle","htmlFor","App","minrate","setRat","allgenre","ratfun","Object","keys","w","r","g","tre","exact","path","component","LoginComp","Signup","AccountSettings","WatchListComp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.83d6f46b.chunk.js","sourcesContent":["export const USER_LOGIN='USER_LOGIN';\r\nexport const USER_LOGIN_SUCCESS='USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAILED='USER-LOGIN-FAILED';\r\nexport const USER_LOGOUT='USER_LOGOUT';","\r\nimport {USER_LOGIN_FAILED,USER_LOGIN_SUCCESS, USER_LOGOUT } from \"./authTypes\";\r\n\r\nconst intialState={\r\n    err: '',\r\n    user: {},\r\n    isLogged: false\r\n}\r\n\r\nconst authReducer = (state=intialState,action) =>{\r\n    switch(action.type){\r\n        case USER_LOGIN_SUCCESS : return{\r\n           ...state,\r\n           user: action.payload,\r\n           isLogged: true,\r\n           err: ''\r\n        };\r\n        case USER_LOGIN_FAILED: \r\n        document.getElementById('usernameincorrect').innerHTML='User Credentials are Incorrect!';\r\n        return{\r\n            ...state,\r\n            isLogged: false,\r\n            err: 'Username or password incorrect'\r\n        };\r\n        case USER_LOGOUT: return intialState;\r\n        case 'CHANGE_ACCOUNTDETAILS':\r\n            const loggedInUser = localStorage.getItem('user');\r\n            const user_credentials=JSON.parse(loggedInUser);\r\n            const k={...user_credentials,userName: action.payload.username,userFirstName: action.payload.firstname,userLastName: action.payload.lastname};\r\n            const jsonuser=JSON.stringify(k);\r\n            localStorage.setItem('user', jsonuser);\r\n        return{\r\n            ...state,\r\n            user: {...state.user,userName: action.payload.username,userFirstName: action.payload.firstname,userLastName: action.payload.lastname}\r\n        }\r\n        default : return state;\r\n}\r\n}\r\n\r\nexport default authReducer;","export const FAVORITE_MOVIES_FETCH='FAVORITE_MOVIES_FETCH';\r\nexport const FAVORITE_MOVIES_FETCH_SUCCESS='FAVORITE_MOVIES_FETCH_SUCCESS';\r\nexport const FAVORITE_MOVIES_FETCH_FAIL='FAVORITE_MOVIES_FETCH_FAIL';\r\nexport const POST_FAVORITE_MOVIE='POST_FAVORITE_MOVIE';\r\nexport const POST_FAVORITE_MOVIE_SUCCESS='POST_FAVORITE_MOVIE_SUCCESS';\r\nexport const POST_FAVORITE_MOVIE_FAIL='POST_FAVORITE_MOVIE_FAIL';\r\nexport const DELETE_FAVORITE_MOVIE='DELETE_FAVORITE_MOVIE';\r\nexport const DELETE_FAVORITE_MOVIE_SUCCESS='DELETE_FAVORITE_MOVIE_SUCCESS';\r\nexport const DELETE_FAVORITE_MOVIE_FAIL='DELETE_FAVORITE_MOVIE_FAIL';","\r\nimport {  POST_FAVORITE_MOVIE,DELETE_FAVORITE_MOVIE,FAVORITE_MOVIES_FETCH_SUCCESS,FAVORITE_MOVIES_FETCH_FAIL,POST_FAVORITE_MOVIE_SUCCESS,POST_FAVORITE_MOVIE_FAIL,DELETE_FAVORITE_MOVIE_FAIL,DELETE_FAVORITE_MOVIE_SUCCESS} from \"./favoriteTypes\";\r\n\r\nconst intialState={\r\n    FavMovies: [],\r\n    err: '',\r\n    isloading: {}\r\n}\r\n\r\nconst favReducer=(state=intialState,action)=>{\r\n    switch (action.type) {\r\n        case  FAVORITE_MOVIES_FETCH_SUCCESS :\r\n        return{\r\n            ...intialState,\r\n            FavMovies: action.payload.favoritemovies\r\n        }\r\n        case POST_FAVORITE_MOVIE:\r\n            return{\r\n                ...state,\r\n                isloading: {...state.isloading,[action.payload]: true}\r\n            }\r\n        case FAVORITE_MOVIES_FETCH_FAIL: return{\r\n            ...state,\r\n            err: action.payload\r\n        }\r\n        case POST_FAVORITE_MOVIE_SUCCESS: return{\r\n            ...intialState,\r\n            isloading: {...state.isloading,[action.payload[1]]: false},\r\n            FavMovies: action.payload[0].favoritemovies\r\n        }\r\n        case DELETE_FAVORITE_MOVIE: return{\r\n            ...state,\r\n            isloading: {...state.isloading,[action.payload]: true}\r\n        }\r\n        case POST_FAVORITE_MOVIE_FAIL: return{\r\n            ...state,\r\n            err: action.payload\r\n        }\r\n        case DELETE_FAVORITE_MOVIE_SUCCESS: return{\r\n            ...intialState,\r\n            isloading: {...state.isloading,[action.payload[1]]: false},\r\n            FavMovies: action.payload[0].favoritemovies\r\n        }\r\n        case DELETE_FAVORITE_MOVIE_FAIL: return{\r\n            ...state,\r\n            err: action.payload\r\n        }\r\n        case 'REFRESH_FAVORITES': return intialState;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default favReducer ;","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./auth/authReducer\";\r\nimport  favReducer  from \"./favoritemovies/favoriteReducer\";\r\nconst appReducer=combineReducers({\r\n    auth: authReducer,\r\n    fav: favReducer\r\n});\r\n\r\nexport default appReducer;","import {applyMiddleware, createStore} from 'redux';\r\nimport Thunk from 'redux-thunk';\r\nimport appReducer from './appReducer';\r\nconst store=createStore(appReducer,applyMiddleware(Thunk));\r\nexport default store;","import {USER_LOGIN_FAILED,USER_LOGIN_SUCCESS, USER_LOGOUT } from \"./authTypes\";\r\n\r\nimport axios from 'axios';\r\nexport const user_login_success=(user)=>{\r\n    \r\n    console.log('user trying to log in');\r\n    return{\r\n        type: USER_LOGIN_SUCCESS,\r\n        payload: user\r\n    }\r\n}\r\nexport const user_login_failed=(mes)=>{\r\n    return{\r\n        type: USER_LOGIN_FAILED,\r\n        payload: mes\r\n    }\r\n}\r\nexport const user_login=(user_credentials)=>{\r\n    const url2='/backendapi/users/login';\r\n    return async dispatch=>{\r\n        axios.post(url2,user_credentials)\r\n        .then(res=>{\r\n            console.log()\r\n            const jsonuser=JSON.stringify(res.data);\r\n            localStorage.setItem('user', jsonuser);\r\n            dispatch(user_login_success(res.data));\r\n        })\r\n        .catch(err=>{\r\n            console.log('User login failed');\r\n            dispatch(user_login_failed(err.message));\r\n        });\r\n    }\r\n};\r\nexport const user_logout=()=>{\r\n    localStorage.clear();\r\n    window.location.reload();\r\n    return{\r\n        type: USER_LOGOUT\r\n    }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { user_login } from \"../redux/auth/authActions\";\r\nimport { useHistory } from \"react-router\";\r\nconst Logincomp =(props)=>{\r\n\r\n    var history =useHistory();\r\n    const [userCred,setUserCred]=useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n\r\n    useEffect(()=>{\r\n      if(props.isLogged){\r\n          history.push('/movies');\r\n      }\r\n      else if(localStorage.getItem('username')!==''){\r\n        setUserCred(prev=>({...prev,username: localStorage.getItem('username')}));\r\n      }\r\n      else{\r\n        \r\n        const loggedInUser = localStorage.getItem('user');\r\n        const user_credentials=JSON.parse(loggedInUser);\r\n        if(user_credentials){\r\n            setUserCred(prev=>({...prev,username: user_credentials.userName}));\r\n        }\r\n      }  \r\n    },[props.isLogged]);\r\n    \r\n    const handleChange=(event)=>{\r\n        document.getElementById('usernameincorrect').innerHTML='';\r\n        setUserCred(prevUserCred=>({...prevUserCred,\r\n            [event.target.name]: event.target.value}));\r\n    }\r\n    \r\n    const handleClick=()=>{\r\n        \r\n            props.Login(userCred)\r\n            .then(()=>{\r\n                console.log('User logg')\r\n            })\r\n            .catch((err)=>{\r\n                console.log(err);\r\n            });\r\n       \r\n       \r\n        if(props.userDetails.success){\r\n            document.getElementById('usernameincorrect').innerHTML='';\r\n            history.push('/movies');\r\n        }\r\n        else{\r\n            \r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    const forgetme=()=>{\r\n        localStorage.removeItem('user');\r\n        history.push('/movies');\r\n    }\r\n    return(\r\n        <div id='logmain'>\r\n                <div className='logineachdiv'><div className='userlo'><i class=\"bi bi-person-fill\"></i></div><input type='text' name='username' onChange={handleChange} value={userCred.username}></input></div>\r\n                <div className='logineachdiv'><div className='userlo'><i class=\"bi bi-key-fill\"></i></div><input type='password' name='password' onChange={handleChange} value={userCred.password}/></div>\r\n                <div className='logineachdiv '><div className='loginbutton' onClick={handleClick}>Log in</div></div>\r\n                <div className='logineachdiv' id='usernameincorrect'></div>\r\n                <div className='logineachdiv'>Don't have an acoount <Link to='/signup'>Create Account</Link><div style={{marginTop: 20}}><Link to='/otpgenerator'>Forgot Password/username? </Link></div><div style={{marginTop: 20,color: 'rgb(85, 26, 139)',cursor: 'pointer',textDecoration: 'underline'}} onClick={forgetme}>Continue without Logging in</div></div>\r\n                \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        userDetails: state.auth.user,\r\n        isLogged: state.auth.isLogged\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        Login: (user_cred)=>dispatch(user_login(user_cred))\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Logincomp);\r\n\r\n\r\n","import React, { useState,useEffect } from \"react\";\r\nimport validator from 'validator';\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nconst SignUp=()=>{\r\n    const [inUser,setInUser]=useState({\r\n        firstname: '',\r\n        username: '',\r\n        emailid: '',\r\n        lastname: '',\r\n        password: '',\r\n        confirmpassword: ''\r\n    });\r\n    const [allUsers,setAllUsers]=useState([]);\r\n    const [allemails,setEmails]=useState([]);\r\n    const [sigResult, setSigResult]=useState('');\r\n\r\n    useEffect(() => {\r\n        axios.get('/backendapi/users/usernames')\r\n        .then(res=>{\r\n            setAllUsers(res.data);\r\n        })\r\n        .catch(err=>{\r\n            console.log('Fetch failed of getting all usernames');\r\n        });\r\n        axios.get('/backendapi/users/emails')\r\n        .then(res=>{\r\n            setEmails(res.data);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        });\r\n    }, [sigResult]);\r\n\r\n    const handleChange=(e)=>{\r\n        document.getElementById('errorhandle1').innerHTML='';\r\n        setInUser(prev=>({\r\n            ...prev,\r\n        [e.target.name]: e.target.value \r\n        }));\r\n    }\r\n\r\n    const handleSubmit=()=>{\r\n        document.getElementById('errorhandle1').innerHTML='';\r\n        setSigResult('');\r\n        if(inUser.password!=='' && inUser.username!=='' && inUser.confirmpassword!=='' && inUser.emailid){\r\n                if(inUser.confirmpassword!==inUser.password){\r\n                  \r\n                    document.getElementById('errorhandle1').innerHTML='Passwords not matching !'\r\n                }\r\n                else if(!(validator.isEmail(inUser.emailid))){\r\n                    document.getElementById('errorhandle1').innerHTML='Enter an valid email id'\r\n                }\r\n                else if(inUser.confirmpassword.length<=4){\r\n                    document.getElementById('errorhandle1').innerHTML='Password too weak...';\r\n                }\r\n                else if(allemails.indexOf(inUser.emailid)!==-1){\r\n                    document.getElementById('errorhandle1').innerHTML='Email already exists';\r\n                }\r\n                else{\r\n                    console.log(inUser);\r\n                    axios.post('/backendapi/users/signup',{username: inUser.username,\r\n                                                   password: inUser.password,\r\n                                                   firstname: inUser.firstname,\r\n                                                   emailid: inUser.emailid,\r\n                                                   lastname: inUser.lastname})\r\n                    .then(resp =>{\r\n                        setSigResult('Successfully Registered');\r\n                        localStorage.setItem('username', inUser.username);\r\n                    })\r\n                    .catch(err=>{\r\n                       console.log(err); \r\n                       document.getElementById('errorhandle1').innerHTML='Email Exists!';\r\n                    });\r\n                    \r\n                }\r\n            }\r\n            else{\r\n                document.getElementById('errorhandle1').innerHTML='Required fileds cannot be empty';\r\n                return;\r\n            }\r\n        \r\n    }\r\n    const usernameCheck=(e)=>{\r\n        const k=e.target.value;\r\n        if(k===''){\r\n            document.getElementById('usernameValid').innerHTML='';\r\n            return;\r\n        }\r\n        for(let i=0;i<allUsers.length;i++){\r\n            if(k===allUsers[i]){\r\n                document.getElementById('usernameValid').innerHTML='username is taken';\r\n                return;\r\n            }\r\n        }\r\n        document.getElementById('usernameValid').innerHTML='username is avaliable'    \r\n    }\r\n\r\n    return(\r\n        <div className='mainsignup'>\r\n            <div className='ac1'>\r\n            <h1  className='createacc'>Create Account</h1>\r\n            <div id='si1'><input type='text' name='firstname' value={inUser.firstname} onChange={handleChange} /><label className={inUser.firstname!=='' ? 'Active' : \"\" }>First Name</label></div>\r\n            <div id='si2'><input type='text' name='lastname'  value={inUser.lastname} onChange={handleChange}/><label className={inUser.lastname!=='' ? 'Active' : \"\" }>Last Name</label></div>\r\n            <div id='si3'><input type='text' name='emailid'  value={inUser.emailid} onChange={e=>{handleChange(e)}}/><label className={inUser.emailid!=='' ? 'Active' : \"\" }>E-mail *</label></div>\r\n            <div id='si4'><input type='text' name='username'  value={inUser.username} onChange={e=>{handleChange(e);usernameCheck(e)}}/><label className={inUser.username!=='' ? 'Active' : \"\" }>Username *</label></div>\r\n            <div id='usernameValid' ></div>\r\n            <div id='si5'><input type='password' name='password'  value={inUser.password} onChange={handleChange} /><label className={inUser.password!=='' ? 'Active' : \"\" }>Password *</label></div>\r\n            <div id='si6'><input type='password' name='confirmpassword'   value={inUser.confirmpassword} onChange={handleChange} /><label className={inUser.confirmpassword!=='' ? 'Active' : \"\" }>Re-enter Password *</label></div>\r\n            <div style={{textAlign: 'center'}}><div className='signupdiv signup' onClick={handleSubmit}>Sign Up</div></div>\r\n            <div id='errorhandle1' className='signupdiv1 '></div>\r\n            {sigResult!=='' && <div className='signupdiv1 '>{sigResult} <Link to='/login'>go to Login</Link></div>}\r\n            </div>\r\n            <div className='ac2'><h1>Join our Community</h1>\r\n                <div className='luxeries'><i class=\"bi bi-bookmark-check-fill tickicon\"></i><span>Get full access to review the movies</span></div>\r\n                <div className='luxeries'><i class=\"bi bi-bookmark-check-fill tickicon\"></i><span>Add the movies you want to watch later to your wishlists</span></div>\r\n                <div className='luxeries'><i class=\"bi bi-bookmark-check-fill tickicon\"></i><span>Sort the best movies to watch</span></div>\r\n            </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\nexport default connect()(SignUp);","import axios from \"axios\";\r\nimport {  FAVORITE_MOVIES_FETCH_SUCCESS,FAVORITE_MOVIES_FETCH_FAIL,POST_FAVORITE_MOVIE_SUCCESS,POST_FAVORITE_MOVIE_FAIL,DELETE_FAVORITE_MOVIE_SUCCESS,DELETE_FAVORITE_MOVIE_FAIL, POST_FAVORITE_MOVIE, DELETE_FAVORITE_MOVIE} from \"./favoriteTypes\";\r\n\r\nexport const fetch_fm_suc=(favMovies)=>{\r\n    return{\r\n        type: FAVORITE_MOVIES_FETCH_SUCCESS,\r\n        payload: favMovies\r\n    }\r\n}\r\n\r\nexport const fetch_fm_fai=()=>{\r\n    return{\r\n        type: FAVORITE_MOVIES_FETCH_FAIL,\r\n        payload: 'Favorite Movies Fetch failed'\r\n    }\r\n}\r\n\r\nexport const fetch_fm=(token)=>{\r\n    return dispatch=>{\r\n        axios.get('/backendapi/towatch',{\r\n          headers: {\r\n            'Authorization': `bearer ${token}` \r\n        }})\r\n        .then(res=>{\r\n            dispatch(fetch_fm_suc(res.data));\r\n        })\r\n        .catch(err=>{\r\n            dispatch(fetch_fm_fai);\r\n            console.log(err);\r\n        });\r\n    }\r\n}\r\nexport const post_fm_fai=()=>{\r\n    return{\r\n        type: POST_FAVORITE_MOVIE_FAIL,\r\n        payload: 'favorite movie posting error'\r\n    }\r\n}\r\nexport const post_fm_su=(favMovies,movieid)=>{\r\n    return{\r\n        type: POST_FAVORITE_MOVIE_SUCCESS,\r\n        payload: [favMovies,movieid]\r\n    }\r\n}\r\nexport const post_fm=(token,movieId)=>{\r\n    return dispatch=>{\r\n        dispatch({type:POST_FAVORITE_MOVIE,payload: movieId});\r\n        axios.post(`/backendapi/towatch/${movieId}`,null,{\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }})\r\n        .then(resp=>{\r\n            dispatch(post_fm_su(resp.data,movieId));\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n            dispatch(post_fm_fai());\r\n        });\r\n    }\r\n}\r\n\r\nexport const delete_fm_fai=()=>{\r\n    return{\r\n        type: DELETE_FAVORITE_MOVIE_FAIL,\r\n        payload: 'favorite movie deleteing error'\r\n    }\r\n}\r\nexport const delete_fm_su=(favMovies,movieid)=>{\r\n    return{\r\n        type: DELETE_FAVORITE_MOVIE_SUCCESS,\r\n        payload: [favMovies,movieid]\r\n    }\r\n}\r\nexport const delete_fm=(token,movieId)=>{\r\n    return dispatch=>{\r\n        dispatch({type: DELETE_FAVORITE_MOVIE,payload: movieId});\r\n        axios.delete(`/backendapi/towatch/${movieId}`,{\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }})\r\n        .then(res=>{\r\n            dispatch(delete_fm_su(res.data,movieId))\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n            dispatch(delete_fm_fai())\r\n        })\r\n    }\r\n}","import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { user_login_success } from \"../redux/auth/authActions\";\r\nimport { fetch_fm } from \"../redux/favoritemovies/favoriteActions\";\r\n\r\nconst LogC=(props)=>{\r\n    const history= useHistory();\r\n    useEffect(()=>{\r\n        const loggedInUser = localStorage.getItem('user');\r\n        if (loggedInUser) {\r\n            const user_credentials=JSON.parse(loggedInUser);\r\n            props.fetchWatchList(user_credentials.token);\r\n            axios.get('/backendapi/users',{\r\n                headers: {\r\n                  'Authorization': `bearer ${user_credentials.token}` \r\n              }})\r\n            .then(()=>{\r\n                props.userLogin(user_credentials);  \r\n            })\r\n            .catch(()=>{\r\n                history.push('/login');\r\n            });\r\n            \r\n        }\r\n    },[history]);\r\n\r\n    return <div></div>;\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n      userLogin: (userCred)=>dispatch(user_login_success(userCred)),\r\n      fetchWatchList: (token)=>dispatch(fetch_fm(token)),\r\n    }\r\n }\r\n const mapStateToProps=(state)=>{\r\n     return {\r\n         user: state.auth.user\r\n     }\r\n }\r\n export default connect(mapStateToProps,mapDispatchToProps)(LogC);","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst CheckboxContainer = styled.div`\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n`\r\n\r\nconst Icon = styled.svg`\r\n  fill: none;\r\n  stroke: white;\r\n  stroke-width: 2px;\r\n`\r\n// Hide checkbox visually but remain accessible to screen readers.\r\n// Source: https://polished.js.org/docs/#hidevisually\r\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\r\n  border: 0;\r\n  clip: rect(0 0 0 0);\r\n  clippath: inset(50%);\r\n  height: 1px;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  padding: 0;\r\n  position: absolute;\r\n  white-space: nowrap;\r\n  width: 1px;\r\n`\r\n\r\nconst StyledCheckbox = styled.div`\r\n  display: inline-block;\r\n  width: 16px;\r\n  height: 16px;\r\n  background: ${props => (props.checked ? 'salmon' : 'papayawhip')}\r\n  border-radius: 3px;\r\n  transition: all 150ms;\r\n\r\n  ${HiddenCheckbox}:focus + & {\r\n    box-shadow: 0 0 0 3px pink;\r\n  }\r\n\r\n  ${Icon} {\r\n    visibility: ${props => (props.checked ? 'visible' : 'hidden')}\r\n  }\r\n`\r\n\r\nconst Checkbox = ({ className, checked, ...props }) => (\r\n  <CheckboxContainer className={className}>\r\n    <HiddenCheckbox checked={checked} {...props} />\r\n    <StyledCheckbox checked={checked}>\r\n      <Icon viewBox=\"0 0 24 24\" >\r\n        <polyline points=\"20 6 9 17 4 12\" />\r\n      </Icon>\r\n    </StyledCheckbox>\r\n  </CheckboxContainer>\r\n)\r\n\r\nexport default Checkbox\r\n","import React, { useEffect } from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { user_logout } from '../redux/auth/authActions';\r\nimport {useLocation} from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport Checkbox from './Checkbox';\r\nfunction HeaderComp(props) {\r\n    const history=useHistory();\r\n    const location=useLocation();\r\n    const [endpoint,setEndpoint]=useState(location.pathname)\r\n    useEffect(()=>{\r\n        setEndpoint(location.pathname)\r\n    },[location])\r\n\r\n    const popfliters=()=>{\r\n        if(document.getElementById('ff').style.opacity==='1'){\r\n            document.getElementById(\"ff\").style.opacity='0';\r\n            document.getElementById(\"ff\").style.height='0';\r\n            document.getElementById('fliterarr').style.transform='rotateX(0deg)';\r\n        }\r\n        else{\r\n            document.getElementById(\"ff\").style.height='auto';\r\n            document.getElementById(\"ff\").style.opacity='1';\r\n            document.getElementById('fliterarr').style.transform='rotateX(180deg)';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id='headpart'>\r\n            <div className='logoname'>PIXELS<div className='logofooter'>movie rating app</div></div>\r\n            <div className='jo'>\r\n                {(endpoint==='/movies' || endpoint==='/') && <div className='headerbutton dropdown2'><span onClick={()=>{popfliters()}}>Fliters<div id='fliterarr'><i className=\"bi bi-funnel\"></i></div></span><div className='dropdowncontent2' id='ff'>\r\n                <div className='exitfli'><h3>Min Rating </h3><input type=\"range\" id=\"ratingrange\" name=\"volume\" value={props.rating} min=\"0\" max=\"4.5\" step='0.5' onChange={(e)=>{props.handleSort(e)}} /><span className='ratingvis'>{props.rating}</span><i onClick={()=>{popfliters()}}  className=\"bi bi-x exitfliters\"></i></div>\r\n                <div className='er'>\r\n                    <div className='genrebox'><label><Checkbox id='action' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.action}/><span style={{ marginLeft: 8 }}>Action</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='drama' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.drama}/><span style={{ marginLeft: 8 }}>Drama</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='comedy' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.comedy}/><span style={{ marginLeft: 8 }}>Comedy</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='sci-fi' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters['sci-fi']}/><span style={{ marginLeft: 8 }}>Sci-fi</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='romance' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.romance}/><span style={{ marginLeft: 8 }}>Romance</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='adventure' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.adventure}/><span style={{ marginLeft: 8 }}>Adventure</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='horror' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.horror}/><span style={{ marginLeft: 8 }}>Horror</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='comics' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.comics}/><span style={{ marginLeft: 8 }}>Comics</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='thriller' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.thriller}/><span style={{ marginLeft: 8 }}>Thriller</span></label></div>\r\n                    <div className='genrebox'><label><Checkbox id='fantasy' onChange={(e)=>{props.handlegenre(e)}} checked={props.fliters.fantasy}/><span style={{ marginLeft: 8 }}>Fantasy</span></label></div>\r\n                \r\n                </div>\r\n                <div className='sorthandler'></div></div></div>}\r\n\r\n            <div className='headerbutton watchlistbu'>{props.isLogged ? <Link  className='linkstyle linkstyleheader' to='/watchlist'>Watchlist</Link> : <Link  className='linkstyle linkstyleheader' to='/aboutus'>About us</Link>}</div>\r\n            {props.isLogged ? \r\n                <div className='headerbutton dropdown'><i class=\"bi bi-person-fill\"></i>\r\n                <span className='usernameinheader'>{props.user.userName}<div className='downarrow'><i class=\"bi bi-chevron-down arr\"></i></div></span> \r\n                    <div className='dropdown-content'>\r\n                        <div className='dropdowndiv' onClick={()=>history.push('/movies')}>Home</div>\r\n                        <div className='dropdowndiv' onClick={()=>history.push('/watchlist')}>Your watchlist</div>\r\n                        <div className='dropdowndiv' onClick={()=>history.push('/settings')}>Account Settings</div>\r\n                        <div className='dropdowndiv' onClick={()=>history.push('/aboutus')}>About us</div>\r\n                        <div className='dropdowndiv' onClick={props.LogOut}> Log out</div>\r\n                    </div>\r\n                </div>\r\n                : \r\n                <div className='headerbutton'><Link to='/login' className='linkstyle linkstyleheader'>Login</Link> </div> \r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        isLogged: state.auth.isLogged,\r\n        user: state.auth.user\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return {\r\n    LogOut: ()=>[dispatch(user_logout()),dispatch({type: 'REFRESH_FAVORITES'})]\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(HeaderComp);\r\n","import React, { useEffect, useState } from 'react';\r\nimport {FaStar} from 'react-icons/fa';\r\n\r\nfunction CommentComp(props) {\r\n    const [rate,setRate]=useState(null);\r\n    const [hover,setHover]=useState(null);\r\n    useEffect(()=>{\r\n        if(props.lastrated){\r\n            setRate(props.lastrated);\r\n        }\r\n    },[props.lastrated]);\r\n    return (\r\n        <div className='stars'>\r\n        <div>\r\n        {[...Array(5)].map((star,i)=>{\r\n                    const ratingValue=i+1;\r\n                    return(\r\n                        <label key={`CommentComp${props.MovieID}${ratingValue}`}>\r\n                            <input type='radio' name='rating' value={ratingValue} \r\n                            onClick={e=>{\r\n                                props.ratingCheck(e.target.value,props.MovieID);\r\n                                setRate(ratingValue);\r\n                            }}\r\n                            />\r\n                            <FaStar className='star' size={window.innerWidth>900 ? 50 : 25} \r\n                                color={ratingValue <= (hover || rate ) ? '#ffc107' : '#e4e5e9'}\r\n                                onMouseEnter={()=>setHover(ratingValue)}\r\n                                onMouseLeave={()=>setHover(null)}     \r\n                            />\r\n                        </label>\r\n                    )\r\n        })}\r\n        </div>\r\n\r\n        <div onClick={()=>props.postRating(props.MovieID)} className='ratebutton'>Rate{props.lastrated ? <i class=\"bi bi-check2-circle tick\"></i> : ' '}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentComp\r\n","import axios from 'axios';\r\nimport React, { useEffect,useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { fetch_fm,delete_fm, post_fm } from '../redux/favoritemovies/favoriteActions';\r\nimport CommentComp from './CommentComp';\r\nimport { useHistory } from 'react-router';\r\nimport bodyParser from 'body-parser';\r\n\r\nexport const intialState ={\r\n    movies: {},\r\n    loading: true\r\n}\r\nfunction MoviesComp(props) {\r\n    const [movies, setMovies] = useState([]);\r\n    const [allrating,setAllrating]=useState({});\r\n    const history=useHistory();\r\n    useEffect(()=>{\r\n        const m=async(e)=>{\r\n        document.body.style.overflowY='scroll'\r\n        axios.get('/backendapi/movies')\r\n            .then(resp=>{\r\n                setMovies(resp.data);\r\n                console.log(resp.data);\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n                console.log('Movies fetch error');\r\n            });\r\n        }\r\n        m();\r\n        return ()=>{\r\n            document.body.style.overflowY='auto'\r\n        }\r\n    }\r\n    ,[]);\r\n    useEffect(()=>{\r\n        \r\n        if(props.isLogged){\r\n            props.fetchWatchList(props.user.token);\r\n        }\r\n    },[props.user.token]);\r\n\r\n    const ratingCheck=(value,id)=>{\r\n        setAllrating(prev=>(\r\n            {...prev,[id]: value}\r\n        ));\r\n    }\r\n\r\n    const postRating=(movieId)=>{\r\n        if(!props.isLogged){\r\n            history.push('/login');\r\n            return;\r\n        }\r\n        if(!allrating[movieId]){\r\n            console.log('Rating value cannot be null');\r\n        }\r\n        else{\r\n            if(props.isLogged){\r\n                axios.get(`/backendapi/movies/${movieId}`)\r\n                .then(res=>{\r\n                    const movie=res.data;\r\n                    for(let i=0;i<movie.comments.length;i++){\r\n                        if(props.user.userid===movie.comments[i].author){\r\n                            axios.put(`/backendapi/movies/${movieId}/comments/${movie.comments[i]._id}`,{\r\n                                rating: allrating[movieId]\r\n                            },{\r\n                                headers: {\r\n                                    'Authorization': `bearer ${props.user.token}`\r\n                                }\r\n                            })\r\n                            .then(resp=>{\r\n                                axios.get('/backendapi/movies')\r\n                                .then(resp2=>{\r\n                                    setMovies(resp2.data);\r\n                                })\r\n                                .catch(err=>{\r\n                                    console.log(err);\r\n                                    console.log('Movies fetch error');\r\n                                });\r\n                            })\r\n                            .catch(err=>{\r\n                                console.log(err);\r\n                            });\r\n                            return null;\r\n                        }\r\n                    }\r\n                    axios.post(`/backendapi/movies/${movieId}/comments`,{ rating: allrating[movieId]},{\r\n                        headers: {\r\n                            'Authorization': `bearer ${props.user.token}`\r\n                        }\r\n                    })\r\n                    .then(resp=>{\r\n                        axios.get('/backendapi/movies')\r\n                        .then(resp3=>{\r\n                            setMovies(resp3.data);\r\n                        })\r\n                        .catch(err=>{\r\n                            console.log(err);\r\n                            console.log('Movies fetch error');\r\n                        });\r\n                    })\r\n                    .catch(err=>{\r\n                        console.log(err);\r\n                    });\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err);\r\n                });\r\n            }\r\n            else{\r\n            }\r\n        }\r\n    }\r\n\r\n    const avgRating=(comments)=>{\r\n        var len=comments.length;\r\n        var j=0;\r\n        for(let i=0;i<len;i++){\r\n            j=j+comments[i].rating;\r\n        }\r\n        return (j/len).toFixed(1);\r\n    }\r\n\r\n    const isCommented=(comments)=>{\r\n        if(!props.user.userid){\r\n            return 0;\r\n        }\r\n        var len=comments.length;\r\n        for(let i=0;i<len;i++){\r\n            if(props.user.userid===comments[i].author){\r\n                return comments[i].rating;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    const checkFav=(id)=>{\r\n        for(let i=0;i<props.watchList.length;i++){\r\n            if(props.watchList[i]._id===id){\r\n                return true\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const postmovietowatchList=(id)=>{\r\n        props.postFav(props.user.token,id);\r\n    }\r\n    const deletefavmovie=(id)=>{\r\n        props.deleteFav(props.user.token,id);\r\n    }\r\n\r\n    const sortmovies=(rat,fli)=>{\r\n        if(!rat){\r\n            rat=0\r\n        }\r\n        const l=[]\r\n        for(let i=0;i<movies.length;i++){\r\n            if(avgRating(movies[i].comments)>=rat){\r\n                l.push(movies[i])\r\n            }\r\n        }\r\n        if(!fli){\r\n            return l;\r\n        }\r\n        if(fli.length===0){\r\n            return l;\r\n        }\r\n        const l1=[]\r\n        for (let i=0;i<l.length;i++){\r\n            for(let j=0;j<l[i].genre.length;j++){\r\n                if(fli.indexOf(l[i].genre[j])!==-1){\r\n                    l1.push(l[i])\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return l1;\r\n    }\r\n\r\n    return (\r\n        <div id='allmovies'>\r\n\r\n            {(props.rating!==0 && sortmovies(props.rating).length===0) && <div id='sorthandlerdiv1'>Loading...</div> }\r\n            { sortmovies(props.rating,props.fliters).map(each=>(<div key={each._id} className='eachmovie'>\r\n                <img src={each.imageurl} alt={each.name+ 'image'} className='movieimg imagecenter'/>\r\n                <div className='moviedetails'>\r\n                <div>\r\n                    <div className='movietitle'>{each.name} <span>{props.isLogged ?  props.isloading[each._id] ? (<span className='loade'>Working on it...</span>): (<span>{checkFav(each._id) ? <span onClick={()=>deletefavmovie(each._id) } className=\"tooltip\"><i className=\"bi bi-dash-circle ko plusminussign\"></i><span className=\"tooltiptext\">Remove from Watchlist</span></span>: <span onClick={()=>postmovietowatchList(each._id)} className=\"tooltip\" id={each._id+'addfav'}><i className=\"bi bi-plus-circle ko plusminussign\"></i><span className=\"tooltiptext\">Add to your Watchlist</span></span>}</span>) : ''}</span></div>\r\n                    \r\n                    \r\n                </div>\r\n                <div className='avgrating'><span><span className='avg'>{avgRating(each.comments)}</span><span style={{color: 'rgb(176, 197, 192)'}}>/5</span> <span className='noofratings'>({each.comments.length} ratings)</span></span></div>\r\n                <div>{each.genre.map((eachgenre,i)=>(<span className='eachgenre' key={i}>{eachgenre}</span>))}</div>\r\n                <div className='cast'>Cast {each.cast.map((eachcast,i)=><span key={eachcast+i} className='eachcast'>{eachcast}</span>)}</div>\r\n                <CommentComp MovieID={each._id} ratingCheck={ratingCheck} postRating= {postRating} lastrated={isCommented(each.comments)}/>\r\n                </div>\r\n            </div>))}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        watchList: state.fav.FavMovies,\r\n        user: state.auth.user,\r\n        isLogged: state.auth.isLogged,\r\n        isloading: state.fav.isloading\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        fetchWatchList: (token)=>dispatch(fetch_fm(token)),\r\n        deleteFav : (token,movieId)=>dispatch(delete_fm(token,movieId)),\r\n        postFav: (token,movieId)=>dispatch(post_fm(token,movieId))\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(MoviesComp);\r\n","\r\nimport React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport { delete_fm, fetch_fm } from '../redux/favoritemovies/favoriteActions'\r\n\r\nfunction WatchListComp(props) {\r\n    useEffect(()=>{\r\n        if(props.isLogged){\r\n            props.fetchWatchList(props.user.token);\r\n        }\r\n    },[]);\r\n\r\n    \r\n    const avgRating=(comments)=>{\r\n        var len=comments.length;\r\n        var j=0;\r\n        for(let i=0;i<len;i++){\r\n            j=j+comments[i].rating;\r\n        }\r\n        return (j/len).toFixed(1);\r\n    }\r\n\r\n    const handleDelete=(id)=>{\r\n        props.deleteFav(props.user.token,id);\r\n    }\r\n    return (\r\n        <div id='watchlistdiv'>\r\n            {props.isLogged ? ( props.watchList.length ===0 ? <div className='emptywatchlist'>Your watchilst is empty<i class=\"bi bi-emoji-frown-fill sad\"></i></div> :\r\n                props.watchList.map(each=>(<div key={each._id+'favor'} className='eachmovie eachfavormovie'>\r\n                <img src={each.imageurl} alt={each.name+ 'image'} className='movieimg imagecenter'/>\r\n                <div className='moviedetails'>\r\n                <div>\r\n                    <div className='movietitle'>{each.name} <span className='deletewat' onClick={()=>handleDelete(each._id)}><i class=\"bi bi-trash\"></i></span></div>\r\n                    \r\n                    \r\n                </div>\r\n                <div className='avgrating'><span><span className='avg'>{avgRating(each.comments)}</span><span style={{color: 'rgb(176, 197, 192)'}}>/5</span> <span className='noofratings'>({each.comments.length} ratings)</span></span></div>\r\n                <div>{each.genre.map((eachgenre,i)=>(<span className='eachgenre' key={i}>{eachgenre}</span>))}</div>\r\n                <div className='cast'>Cast {each.cast.map((eachcast,i)=><span key={eachcast+i} className='eachcast'>{eachcast}</span>)}</div>\r\n                </div></div>))\r\n            ): <Link to='/login' >Login</Link> \r\n        }\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        watchList: state.fav.FavMovies,\r\n        user: state.auth.user,\r\n        isLogged: state.auth.isLogged\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        fetchWatchList: (token)=>dispatch(fetch_fm(token)),\r\n        deleteFav : (token,movieId)=>dispatch(delete_fm(token,movieId))\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(WatchListComp)\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nfunction AccountSettings(props) {\r\n    const [us,setUs]=useState({});\r\n    const [allUsers,setAllUsers]=useState([]);\r\n    useEffect(()=>{\r\n        axios.get('/backendapi/users/usernames')\r\n        .then(res=>{\r\n            setAllUsers(res.data);\r\n        })\r\n        .catch(err=>{\r\n            console.log('Fetch failed of getting all usernames');\r\n        });\r\n        setUs(prev=>({...prev,username: props.user.userName,\r\n                                lastname: props.user.userLastName,\r\n                                firstname: props.user.userFirstName}));\r\n    },[props.user]);\r\n\r\n    const onchangefun=(e)=>{\r\n        setUs(prev=>({...prev,[e.target.name]: e.target.value}));\r\n    }\r\n\r\n    const changedetails=()=>{\r\n        if(!us.username){\r\n            document.getElementById('accerr').innerHTML='username Field required';\r\n            return;\r\n        }\r\n        if(props.user.userName!==us.username){\r\n            if(allUsers.indexOf(us.username)!==-1){\r\n                document.getElementById('accerr').innerHTML='Username exists';\r\n                return;\r\n            }\r\n        }\r\n        axios.put('/backendapi/users/accountdetails',us,{\r\n            headers: {\r\n                'Authorization': `Bearer ${props.user.token}` \r\n            }\r\n        })\r\n        .then((res)=>{\r\n            document.getElementById('accerr').innerHTML='Successfully Saved';\r\n            props.Changeaccountdetails(us);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n            document.getElementById('accerr').innerHTML=err.message;\r\n        });\r\n    }\r\n\r\n    const usernameCheck=(e)=>{\r\n        const k=e.target.value;\r\n    \r\n        if(k===props.user.userName){\r\n            document.getElementById('accountk').innerHTML='';\r\n            return;\r\n        }\r\n        for(let i=0;i<allUsers.length;i++){\r\n            if(k===allUsers[i]){\r\n                document.getElementById('accountk').innerHTML='username is taken';\r\n                return;\r\n            }\r\n        }\r\n        document.getElementById('accountk').innerHTML='username is avaliable'    \r\n    }\r\n\r\n    return (\r\n        <div className='settingsdiv'>\r\n            <div className='eachsettingdiv'><div className='settingstitle'>Firstname: </div><input id='changefirstname' type='text' name='firstname' onChange={onchangefun} value={us.firstname}/></div>\r\n            <div className='eachsettingdiv'><div className='settingstitle'>Lastname: </div><input id='changelastname' type='text' name='lastname' onChange={onchangefun} value={us.lastname}/></div>\r\n            <div className='eachsettingdiv'><div className='settingstitle'>Username: </div><input type='text' name='username' onChange={(e)=>{onchangefun(e);usernameCheck(e)}} value={us.username} /></div>\r\n            <div className='eachsettingdiv' id='accountk'></div>\r\n            <div className='eachsettingdiv changedet' onClick={changedetails} >Save Details</div> \r\n            <div className='eachsettingdiv' id='accerr'></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n            isLogged: state.auth.isLogged,\r\n            user: state.auth.user\r\n    }\r\n\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return {\r\n    Changeaccountdetails: (newAccountdetails)=>dispatch({type: 'CHANGE_ACCOUNTDETAILS',payload: newAccountdetails})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(AccountSettings);\r\n","import React from 'react';\r\n\r\nfunction Aboutus() {\r\n  return <div className='us'><div className='aboutus'>\r\n      <strong>P</strong>ixels it is designed to provide our users what they want .If you’re an entertainment fan looking for a recommendation, or to share an opinion, you’ve come to the right place.\r\n      Use it as a diary to record and share your opinion about films as you watch them, or just to keep track of films you need to watch later.Keep your feed what you want by adding fliters. \r\n      <h2><i class=\"bi bi-people-fill\"></i> Join Us!  Free of Cost</h2>\r\n  </div>\r\n  <div className='lastone'>&copy; All Rigits Reserved<span><a href='https://www.linkedin.com/in/yashwanth-reddy-bbb657193' target=\"_blank\"><i className=\"bi bi-linkedin\"></i></a><a href='mailto:yaswanthreddy909@gmail.com'>Yashwanth Reddy</a></span></div>\r\n  </div>;\r\n}\r\n\r\nexport default Aboutus;\r\n","import React, { useEffect, useState } from 'react';\r\nimport OtpInput from 'react-otp-input';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nfunction RetrieveAccount() {\r\n    const [mailid,setMailid]=useState(false);\r\n    const [resu,setResu]=useState(false);\r\n    const [pin,setPin]=useState('');\r\n    const [username,setUsername]=useState('');\r\n    const [all,setAll]=useState({email: '' , password: '',confirmpassword: '',otp: ''});\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        if(mailid){\r\n            axios.post('/backendapi/users/getusername',{emailid: all.email})\r\n            .then((res)=>{\r\n                setUsername(res.data.username);\r\n                console.log(res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            });\r\n\r\n        }\r\n    },[mailid])\r\n\r\n    const sendotp=()=>{\r\n        axios.post('/backendapi/retreivepassword',{emailid: all.email})\r\n        .then(res=>{\r\n            console.log('OTP sent to the registred Email');\r\n            setMailid(true);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n            document.getElementById('emailche').innerHTML='Sorry <i class=\"bi bi-emoji-frown\"></i> your email is not in our database <a href=\"/signup\">Create an account</a>'\r\n        });\r\n    }\r\n    const handleChange=(e)=>{\r\n        if(!mailid){\r\n            document.getElementById('emailche').innerHTML='';\r\n        }\r\n        else{\r\n            document.getElementById('otpche').innerHTML=''\r\n        }\r\n        setAll(prev=>{ return {...prev,[e.target.name]: e.target.value} });\r\n    \r\n    }\r\n\r\n    const resetPass=()=>{\r\n        if(all.password!==all.confirmpassword ){\r\n            document.getElementById('otpche').innerHTML='Passwords mismatched';\r\n            return ;\r\n        }\r\n        if(all.password.length<=4){\r\n            document.getElementById('otpche').innerHTML='Password min length is 5';\r\n            return;\r\n        }\r\n        axios.post('/backendapi/retreivepassword/q',all)\r\n        .then(res=>{\r\n            setResu(true);\r\n            document.getElementById('otpche').innerHTML='Successfully Changed ';\r\n        })\r\n        .catch(err=>{\r\n            document.getElementById('otpche').innerHTML='OTP not matched'\r\n        });\r\n    }\r\n    const setotp=(da)=>{\r\n        document.getElementById('otpche').innerHTML=''\r\n        setPin(da);\r\n        setAll(prev=>({...prev,otp: da}))\r\n    }\r\n    return <div>{!mailid ?  (\r\n    <div className='emaildiv'>\r\n        <h2>Forgot Password? </h2>\r\n        <div className='downemail'>\r\n            <h3>Enter the email address associated with your Account</h3>\r\n            <div className='bluremail'>We will mail you a 4 digit otp for confirmation</div>\r\n            <div className='emailinput'><div id='emailinputdiv'><input type='text' name='email' value={all.email} onChange={handleChange}/><label htmlFor='text' className={all.email!=='' ? 'Active' : \"\" }>Enter the Email address</label></div><span className='sendotpbt' onClick={sendotp}>Confirm</span></div>\r\n            <div id='emailche'></div>\r\n        </div>\r\n    </div>) :  \r\n        (<div><div id='otpdiv'>\r\n        <h2>Hi {username}, Enter the OTP four digit pin</h2>\r\n        <OtpInput\r\n            value={pin}\r\n            onChange={setotp}\r\n            numInputs={4}\r\n            inputStyle={'inputotp'}\r\n            focusStyle={'focusotp'}\r\n            separator={<span></span>}\r\n            containerStyle={'contotp'}\r\n      />\r\n      </div>\r\n      <div className='fudiv1'>\r\n        <div className='fudiv'><div id='changepassworddiv'><input type=\"text\" name='password' value={all.password} onChange={(e) => handleChange(e)}/><label htmlFor=\"text\" className={all.password!=='' ? 'Active' : \"\" }>New Password</label></div></div>\r\n        <div className='fudiv'><div id='changepassworddiv1'><input type=\"text\" name='confirmpassword' value={all.confirmpassword} onChange={(e) => handleChange(e)}/><label htmlFor=\"text\" className={all.confirmpassword!=='' ? 'Active' : \"\" }>Re-enter Password</label></div></div>\r\n      </div>\r\n      <div className='resetbt'>\r\n      <div onClick={resetPass} className='bt2'>Reset Password</div>\r\n      <div id='otpche'></div><span>{resu ? <Link to='/login'>Login</Link>: ''}</span>\r\n      </div>\r\n      </div>)}\r\n    </div>;\r\n}\r\n\r\nexport default RetrieveAccount;\r\n","import './App.css';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport LoginComp from './components/loginComp';\nimport Signup from './components/Signup';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom';\nimport LogC from './components/LogCheck';\nimport HeaderComp from './components/HeaderComp';\nimport MoviesComp from './components/MoviesComp';\nimport WatchListComp from './components/WatchListComp';\nimport AccountSettings from './components/AccountSettings';\nimport Aboutus from './components/Aboutus';\nimport RetrieveAccount from './components/RetrieveAccount';\nimport { useState } from 'react';\nfunction App() {\n  const [rat,setRat]=useState({minrate: 0,action: false,drama: false,comedy: false,['sci-fi']: false,horror: false,adventure: false,comics: false,thriller: false,romance: false,fantasy: false});\n  \n  const handleSort=(e)=>{\n    const r=e.target.value;\n    setRat(prev=>({...prev,minrate: r}));\n  }\n\n  const handlegenre=(e)=>{\n    const g=e.target.id;\n    const tre=rat[g] ? false : true\n    setRat(prev=>({...prev,[g]: tre}))\n  }\n\n  const allgenre=(ratfun)=>{\n    const k=Object.keys(ratfun)\n    const w=[]\n    for(let i=1;i<k.length;i++){\n      if(ratfun[k[i]]){\n        w.push(k[i])\n      }\n    }\n    return w\n  }\n\n  return (\n    <BrowserRouter>\n    <Provider store={store}>\n      <div className=\"App\">\n      <HeaderComp handleSort={handleSort} rating={rat.minrate} handlegenre={handlegenre} fliters={rat}/>\n      <Switch>\n              <Route exact path='/' component={()=><MoviesComp rating={rat.minrate} fliters={allgenre(rat)} />}></Route>\n              <Route exact path='/login' component={LoginComp}></Route>\n              <Route exact path='/signup' component={()=><Signup />} ></Route>\n              <Route exact path='/movies' component={()=><MoviesComp rating={rat.minrate} fliters={allgenre(rat)}/>}></Route>\n              <Route exact path='/settings' component={AccountSettings}></Route>\n              <Route exact path='/watchlist' component={WatchListComp}/>\n              <Route exact path='/aboutus' component={Aboutus}/>\n              <Route exact path='/otpgenerator' component={RetrieveAccount}/>\n            </Switch>\n  \n      </div>\n      <LogC />\n    </Provider>\n    </BrowserRouter>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}